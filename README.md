# MoodleCalc
# To do
- [x] Сделать иконк
- [x] Писать токен в кэш браузера или куда-там еще
- [x] Добавить при нажатие кнопку иконку загрузки из файла icon/loading.gif
- [x] При успешной авторизации выводить токен в стиле xxxxx...xxxxx, а не полный.
- [x] Добавить страницу настроек, соотв ее кнопку
- [ ]Автоудаления токена (по стандарту: true) (реализация - хз. Выключения браузера? Выход из сессии на сайте? ...)
- [ ]Вывод самого токена в не полной форме, с кнопкой копирывания полного токена.
- ???
- [ ] !!! Связи с большим потенциалом и обьемом кнопкой и страниц, нужно будет добавить что-то типо спойлера на форумах, после самой названии лекции, где и будут все кнопки, инфа и тп!!! Добавить кнопки под HTML-контейнер (создать свой внутри текущей название лекции, вроде оно там есть?) с лекциями/тестами и прочем хламом. 

Принцип работы - хз. Можно сделать через beforeLoad или какой то еще залупы, до того как юзер получит HTML у себя на экране.
Надо сразу же делать кнопки с расчетом под стиль css'a или какой еще либо залупы (я точно не знаю, не шарю в этом), надо еще подумать над самим стилем, спиздим конечно, но вопрос откуда? Например что то типо такого? (спиздил со своего другого проекта)

```
let btn = document.createElement("button");
    btn.innerHTML = "DV";
    btn.style = 'cursor: pointer; display: inline-block; text-align: center; font-size: 16px; padding: 9px5px0; margin: 02px6px0; background: var(--main-button); color: var(--light-text); min-width: 41px; height: 41px; -webkit-transition: .3s; -o-transition: .3s; transition: .3s';
```
Тут по поводу реализации скажу, что можно спиздить все с сылок сервера СахГу, а не через мой сервер, но там нужно будет добавить минимальную логику. 
Условно имеем тип лекции (lesson), значит будет одна сылка, если тип например тест (quiz) то он другой.

![image](https://user-images.githubusercontent.com/58254635/151201910-17929a3a-3fbe-4c55-8ed8-f09ba0db9032.png)

Кнопки...
- Пройти лекцию (элементарно спарсить сылку лекции и добавить pageid=-9)
- Показать ответы
- if (quiz) - > Пройти рандомно (возможно реализация парсинга вопросов с ответами и тп? По идеи можно реализовать. Требует обсуждения и тестов)
- if (lesson) -> Открыть лекции локально , но в одной странице. (Открыть первую страничку -> спарсить сылку в кнопке(Следущия страницы) -> открыть сылку(следущей страницы) и спарсить контент вместе с сылкой  -> добавить спарщенный контент -> опять спарсить сылку -> открыть сылку и спарсить контент вместе с сылкой -> опять открыть новую сылку... -> конец)
- ???
- [ ] ???

![image](https://user-images.githubusercontent.com/58254635/152711183-91575033-c86a-42bd-be39-b36c625a83a8.png)
alert(M.util.get_string('functiondisabledbysecuremode
Выключить нахуй
